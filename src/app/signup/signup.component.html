<div class="signup-container" fxLayout="column" fxLayoutAlign="center center">
  <div class="signup-main mat-elevation-z12">
    <mat-card>
      <mat-card-title>
        Sign up
      </mat-card-title>
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="registerUser()">
          <mat-form-field class="display-block">
            <input id="username" type="text" placeholder="Username" formControlName="username" required matInput>
            <mat-error *ngIf="registerForm.get('username').errors?.required">{{validationMessages.username.required}}</mat-error>
            <mat-error *ngIf="registerForm.get('username').errors?.minlength">{{validationMessages.username.minlength}}</mat-error>
            <mat-error *ngIf="registerForm.get('username').errors?.maxlength">{{validationMessages.username.maxlength}}</mat-error>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input id="email" type="text" placeholder="Email" formControlName="email" required matInput>
            <mat-error *ngIf="registerForm.get('email').errors?.required">{{validationMessages.email.required}}</mat-error>
            <mat-error *ngIf="registerForm.get('email').errors?.minlength">{{validationMessages.email.minlength}}</mat-error>
            <mat-error *ngIf="registerForm.get('email').errors?.maxlength">{{validationMessages.email.maxlength}}</mat-error>
            <mat-error *ngIf="registerForm.get('email').errors?.email">{{validationMessages.email.email}}</mat-error>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input id="password" type="password" placeholder="Password" formControlName="password" required matInput>
            <mat-error *ngIf="registerForm.get('password').errors?.required">{{validationMessages.password.required}}</mat-error>
            <mat-error *ngIf="registerForm.get('password').errors?.minlength">{{validationMessages.password.minlength}}</mat-error>
            <mat-error *ngIf="registerForm.get('password').errors?.maxlength">{{validationMessages.password.maxlength}}</mat-error>
          </mat-form-field>
          <mat-form-field class="display-block">
            <input id="passwordRepeated" type="password" placeholder="Repeat password" formControlName="passwordRepeated" required matInput>
            <mat-error *ngIf="registerForm.get('passwordRepeated').errors?.required">{{validationMessages.passwordRepeated.required}}</mat-error>
            <mat-error *ngIf="registerForm.get('passwordRepeated').errors?.minlength">{{validationMessages.passwordRepeated.minlength}}</mat-error>
            <mat-error *ngIf="registerForm.get('passwordRepeated').errors?.maxlength">{{validationMessages.passwordRepeated.maxlength}}</mat-error>
          </mat-form-field>
          <div class="submitButtonDiv" fxLayout="row" fxLayoutAlign="space-between center center">
            <button mat-raised-button color="primary" type="submit" [disabled]="!isValidForm()">Sing up <mat-icon class="spin" *ngIf="loading">autorenew</mat-icon></button>
            <mat-error *ngIf="registerErrors">{{registerErrors}}</mat-error>
          </div>
        </form>
      </mat-card-content>
      <mat-divider [inset]="true"></mat-divider>
      <mat-card-footer>
        <mat-grid-list cols="2" rowHeight="50px">
          <mat-grid-tile>
            <a class="redirect" [routerLink]="['/login']">Login</a>
          </mat-grid-tile>
          <mat-grid-tile>
            <a class="redirect" [routerLink]="['/restore-password']">Forgotten password?</a>
          </mat-grid-tile>
        </mat-grid-list>
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </mat-card-footer>
    </mat-card>
  </div>
</div>